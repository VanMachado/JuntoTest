2024-07-17 11:42:24.252 -03:00 [INF] User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-17 11:42:24.768 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 11:42:25.330 -03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-07-17 11:42:25.383 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-17 11:42:25.525 -03:00 [INF] Now listening on: https://localhost:7032
2024-07-17 11:42:25.525 -03:00 [INF] Now listening on: http://localhost:5032
2024-07-17 11:42:25.528 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 11:42:25.528 -03:00 [INF] Hosting environment: Development
2024-07-17 11:42:25.529 -03:00 [INF] Content root path: D:\workspace\TesteJunto\src\JuntoApplication\
2024-07-17 11:42:26.084 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/swagger/index.html - -
2024-07-17 11:42:26.293 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/swagger/index.html - - - 200 - text/html;charset=utf-8 210.6463ms
2024-07-17 11:42:26.301 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/_framework/aspnetcore-browser-refresh.js - -
2024-07-17 11:42:26.305 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/_framework/aspnetcore-browser-refresh.js - - - 200 12002 application/javascript;+charset=utf-8 3.4788ms
2024-07-17 11:42:26.328 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/_vs/browserLink - -
2024-07-17 11:42:26.357 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.3492ms
2024-07-17 11:42:26.392 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/swagger/v1/swagger.json - -
2024-07-17 11:42:26.448 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 55.4314ms
2024-07-17 11:42:51.859 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7032/api/Login application/json 64
2024-07-17 11:42:52.004 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.LoginController.Login (JuntoApplication)'
2024-07-17 11:42:52.023 -03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(JuntoApplication.Model.Login) on controller JuntoApplication.Controllers.LoginController (JuntoApplication).
2024-07-17 11:42:52.078 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 11:42:52.083 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-17 11:42:52.128 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-07-17 11:42:52.154 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-17 11:42:52.166 -03:00 [INF] Executed action JuntoApplication.Controllers.LoginController.Login (JuntoApplication) in 139.1408ms
2024-07-17 11:42:52.168 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.LoginController.Login (JuntoApplication)'
2024-07-17 11:42:52.170 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7032/api/Login application/json 64 - 200 - application/json;+charset=utf-8 310.7449ms
2024-07-17 11:43:08.256 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/api/BaseUsers - -
2024-07-17 11:43:08.290 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication)'
2024-07-17 11:43:08.293 -03:00 [INF] Route matched with {action = "FindAll", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FindAll() on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 11:43:08.301 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 11:43:08.308 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Email], [a].[Name], [a].[Password], [a].[Role]
FROM [Admins] AS [a]
2024-07-17 11:43:08.324 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Cpf], [u].[Email], [u].[Name], [u].[Password]
FROM [Users] AS [u]
2024-07-17 11:43:08.332 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[JuntoApplication.Dto.UserDto, JuntoApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-17 11:43:08.339 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication) in 45.2132ms
2024-07-17 11:43:08.341 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication)'
2024-07-17 11:43:08.342 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/api/BaseUsers - - - 200 - application/json;+charset=utf-8 85.1812ms
2024-07-17 11:43:21.195 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7032/api/BaseUsers application/json 90
2024-07-17 11:43:21.198 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.CreateUser (JuntoApplication)'
2024-07-17 11:43:21.201 -03:00 [INF] Route matched with {action = "CreateUser", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(JuntoApplication.Dto.UserDto) on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 11:43:21.226 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 11:43:21.233 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-17 11:43:21.239 -03:00 [WRN] User validation failed: DuplicateUserName.
2024-07-17 11:43:21.325 -03:00 [ERR] Failed executing DbCommand (14ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 100), @p2='?' (Size = 250), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Cpf], [Email], [Name], [Password])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Users]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-07-17 11:43:21.420 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'JuntoApplication.Infrastructure.DataBase.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Cpf', table 'JuntoTest.dbo.Users'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:11085759-9cca-4b9b-bee6-ca3e2cb3ca5e
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Cpf', table 'JuntoTest.dbo.Users'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:11085759-9cca-4b9b-bee6-ca3e2cb3ca5e
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-07-17 11:43:21.439 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.CreateUser (JuntoApplication) in 236.2503ms
2024-07-17 11:43:21.440 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.CreateUser (JuntoApplication)'
2024-07-17 11:43:21.443 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Somenthing went wrong when calling API. Error: An error occurred while saving the entity changes. See the inner exception for details. 
   at JuntoApplication.Infrastructure.Repository.UserBaseRepository.CreateAsync(UserDto userDto) in D:\workspace\TesteJunto\src\JuntoApplication\Infrastructure\Repository\UserBaseRepository.cs:line 91
   at JuntoApplication.Controllers.BaseUsersController.CreateUser(UserDto userDto) in D:\workspace\TesteJunto\src\JuntoApplication\Controllers\BaseUsersController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-07-17 11:43:21.484 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7032/api/BaseUsers application/json 90 - 500 - text/plain;+charset=utf-8 289.5752ms
2024-07-17 11:43:50.986 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7032/api/BaseUsers application/json 86
2024-07-17 11:43:50.988 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.CreateUser (JuntoApplication)'
2024-07-17 11:43:50.988 -03:00 [INF] Route matched with {action = "CreateUser", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(JuntoApplication.Dto.UserDto) on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 11:43:50.996 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 11:43:50.999 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-17 11:43:51.014 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-07-17 11:43:51.036 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-07-17 11:43:51.050 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2024-07-17 11:43:51.055 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-07-17 11:43:51.064 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-17 11:43:51.074 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2024-07-17 11:43:51.079 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2024-07-17 11:43:51.098 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-17 11:43:51.105 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserClaims] ([ClaimType], [ClaimValue], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [AspNetUserClaims]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-07-17 11:43:51.119 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserClaims] ([ClaimType], [ClaimValue], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [AspNetUserClaims]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-07-17 11:43:51.122 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2024-07-17 11:43:51.136 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 250), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Admins] ([Email], [Name], [Password], [Role])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Admins]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-07-17 11:43:51.145 -03:00 [INF] Executing OkObjectResult, writing value of type 'JuntoApplication.Dto.UserDto'.
2024-07-17 11:43:51.146 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.CreateUser (JuntoApplication) in 156.5529ms
2024-07-17 11:43:51.148 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.CreateUser (JuntoApplication)'
2024-07-17 11:43:51.149 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7032/api/BaseUsers application/json 86 - 200 - application/json;+charset=utf-8 162.4438ms
2024-07-17 11:44:25.556 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7032/api/Login application/json 56
2024-07-17 11:44:25.557 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.LoginController.Login (JuntoApplication)'
2024-07-17 11:44:25.557 -03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(JuntoApplication.Model.Login) on controller JuntoApplication.Controllers.LoginController (JuntoApplication).
2024-07-17 11:44:25.560 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 11:44:25.563 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-17 11:44:25.568 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-07-17 11:44:25.570 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-17 11:44:25.571 -03:00 [INF] Executed action JuntoApplication.Controllers.LoginController.Login (JuntoApplication) in 12.4443ms
2024-07-17 11:44:25.572 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.LoginController.Login (JuntoApplication)'
2024-07-17 11:44:25.573 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7032/api/Login application/json 56 - 200 - application/json;+charset=utf-8 17.3422ms
2024-07-17 11:44:39.419 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/api/BaseUsers - -
2024-07-17 11:44:39.420 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication)'
2024-07-17 11:44:39.421 -03:00 [INF] Route matched with {action = "FindAll", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FindAll() on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 11:44:39.423 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 11:44:39.426 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Email], [a].[Name], [a].[Password], [a].[Role]
FROM [Admins] AS [a]
2024-07-17 11:44:39.428 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Cpf], [u].[Email], [u].[Name], [u].[Password]
FROM [Users] AS [u]
2024-07-17 11:44:39.430 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[JuntoApplication.Dto.UserDto, JuntoApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-17 11:44:39.431 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication) in 8.7715ms
2024-07-17 11:44:39.432 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication)'
2024-07-17 11:44:39.433 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/api/BaseUsers - - - 200 - application/json;+charset=utf-8 13.2788ms
2024-07-17 11:47:21.658 -03:00 [INF] Request starting HTTP/2 PUT https://localhost:7032/api/BaseUsers?id=6&role=Admin&password=Teste%40 - 0
2024-07-17 11:47:21.659 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication)'
2024-07-17 11:47:21.663 -03:00 [INF] Route matched with {action = "UpdatePassword", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePassword(Int64, System.String, System.String) on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 11:47:21.671 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 11:47:21.676 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Email], [a].[Name], [a].[Password], [a].[Role]
FROM [Admins] AS [a]
WHERE [a].[Id] = @__id_0
2024-07-17 11:47:21.681 -03:00 [WRN] User password validation failed: PasswordRequiresDigit.
2024-07-17 11:47:21.685 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Cpf], [u].[Email], [u].[Name], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2024-07-17 11:47:21.689 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication) in 25.2911ms
2024-07-17 11:47:21.690 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication)'
2024-07-17 11:47:21.691 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Something went wrong when calling API. Error: Object reference not set to an instance of an object.
   at JuntoApplication.Infrastructure.Repository.UserBaseRepository.UpdateAsync(Int64 id, String role, String password) in D:\workspace\TesteJunto\src\JuntoApplication\Infrastructure\Repository\UserBaseRepository.cs:line 118
   at JuntoApplication.Controllers.BaseUsersController.UpdatePassword(Int64 id, String role, String password) in D:\workspace\TesteJunto\src\JuntoApplication\Controllers\BaseUsersController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-07-17 11:47:21.697 -03:00 [INF] Request finished HTTP/2 PUT https://localhost:7032/api/BaseUsers?id=6&role=Admin&password=Teste%40 - 0 - 500 - text/plain;+charset=utf-8 39.5656ms
2024-07-17 11:48:05.514 -03:00 [INF] Request starting HTTP/2 PUT https://localhost:7032/api/BaseUsers?id=6&role=admin&password=Teste%40 - 0
2024-07-17 11:48:05.515 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication)'
2024-07-17 11:48:05.515 -03:00 [INF] Route matched with {action = "UpdatePassword", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePassword(Int64, System.String, System.String) on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 11:48:05.517 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 11:48:05.520 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Cpf], [u].[Email], [u].[Name], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2024-07-17 11:48:05.521 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication) in 4.7925ms
2024-07-17 11:48:05.522 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication)'
2024-07-17 11:48:05.523 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Something went wrong when calling API. Error: Object reference not set to an instance of an object.
   at JuntoApplication.Infrastructure.Repository.UserBaseRepository.UpdateAsync(Int64 id, String role, String password) in D:\workspace\TesteJunto\src\JuntoApplication\Infrastructure\Repository\UserBaseRepository.cs:line 118
   at JuntoApplication.Controllers.BaseUsersController.UpdatePassword(Int64 id, String role, String password) in D:\workspace\TesteJunto\src\JuntoApplication\Controllers\BaseUsersController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-07-17 11:48:05.529 -03:00 [INF] Request finished HTTP/2 PUT https://localhost:7032/api/BaseUsers?id=6&role=admin&password=Teste%40 - 0 - 500 - text/plain;+charset=utf-8 14.9220ms
2024-07-17 11:48:10.727 -03:00 [INF] Request starting HTTP/2 PUT https://localhost:7032/api/BaseUsers?id=6&role=ADMIN&password=Teste%40 - 0
2024-07-17 11:48:10.728 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication)'
2024-07-17 11:48:10.729 -03:00 [INF] Route matched with {action = "UpdatePassword", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePassword(Int64, System.String, System.String) on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 11:48:10.730 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 11:48:10.733 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Cpf], [u].[Email], [u].[Name], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2024-07-17 11:48:10.735 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication) in 5.0475ms
2024-07-17 11:48:10.735 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication)'
2024-07-17 11:48:10.736 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Something went wrong when calling API. Error: Object reference not set to an instance of an object.
   at JuntoApplication.Infrastructure.Repository.UserBaseRepository.UpdateAsync(Int64 id, String role, String password) in D:\workspace\TesteJunto\src\JuntoApplication\Infrastructure\Repository\UserBaseRepository.cs:line 118
   at JuntoApplication.Controllers.BaseUsersController.UpdatePassword(Int64 id, String role, String password) in D:\workspace\TesteJunto\src\JuntoApplication\Controllers\BaseUsersController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-07-17 11:48:10.742 -03:00 [INF] Request finished HTTP/2 PUT https://localhost:7032/api/BaseUsers?id=6&role=ADMIN&password=Teste%40 - 0 - 500 - text/plain;+charset=utf-8 15.3036ms
2024-07-17 11:52:23.154 -03:00 [INF] Application is shutting down...
2024-07-17 11:52:36.393 -03:00 [INF] User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-17 11:52:36.820 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 11:52:37.150 -03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-07-17 11:52:37.199 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-17 11:52:37.286 -03:00 [INF] Now listening on: https://localhost:7032
2024-07-17 11:52:37.287 -03:00 [INF] Now listening on: http://localhost:5032
2024-07-17 11:52:37.289 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 11:52:37.290 -03:00 [INF] Hosting environment: Development
2024-07-17 11:52:37.290 -03:00 [INF] Content root path: D:\workspace\TesteJunto\src\JuntoApplication\
2024-07-17 11:52:37.869 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/swagger/index.html - -
2024-07-17 11:52:38.025 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/swagger/index.html - - - 200 - text/html;charset=utf-8 158.3800ms
2024-07-17 11:52:38.030 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/_framework/aspnetcore-browser-refresh.js - -
2024-07-17 11:52:38.032 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/_framework/aspnetcore-browser-refresh.js - - - 200 12002 application/javascript;+charset=utf-8 2.0756ms
2024-07-17 11:52:38.055 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/_vs/browserLink - -
2024-07-17 11:52:38.062 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 6.8600ms
2024-07-17 11:52:38.112 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/swagger/v1/swagger.json - -
2024-07-17 11:52:38.168 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 55.3143ms
2024-07-17 11:52:56.687 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7032/api/Login application/json 64
2024-07-17 11:52:56.706 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.LoginController.Login (JuntoApplication)'
2024-07-17 11:52:56.723 -03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(JuntoApplication.Model.Login) on controller JuntoApplication.Controllers.LoginController (JuntoApplication).
2024-07-17 11:52:56.773 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 11:52:56.777 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-17 11:52:56.812 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-07-17 11:52:56.832 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-17 11:52:56.843 -03:00 [INF] Executed action JuntoApplication.Controllers.LoginController.Login (JuntoApplication) in 116.2115ms
2024-07-17 11:52:56.844 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.LoginController.Login (JuntoApplication)'
2024-07-17 11:52:56.846 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7032/api/Login application/json 64 - 200 - application/json;+charset=utf-8 159.1675ms
2024-07-17 11:53:15.997 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/api/BaseUsers - -
2024-07-17 11:53:16.032 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication)'
2024-07-17 11:53:16.034 -03:00 [INF] Route matched with {action = "FindAll", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FindAll() on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 11:53:16.042 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 11:53:16.048 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Email], [a].[Name], [a].[Password], [a].[Role]
FROM [Admins] AS [a]
2024-07-17 11:53:16.061 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Cpf], [u].[Email], [u].[Name], [u].[Password]
FROM [Users] AS [u]
2024-07-17 11:53:16.067 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[JuntoApplication.Dto.UserDto, JuntoApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-17 11:53:16.074 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication) in 38.6036ms
2024-07-17 11:53:16.075 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication)'
2024-07-17 11:53:16.075 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/api/BaseUsers - - - 200 - application/json;+charset=utf-8 78.5178ms
2024-07-17 11:53:34.928 -03:00 [INF] Request starting HTTP/2 PUT https://localhost:7032/api/BaseUsers?id=6&role=Admin&password=Test123%40 - 0
2024-07-17 11:53:34.930 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication)'
2024-07-17 11:53:34.933 -03:00 [INF] Route matched with {action = "UpdatePassword", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePassword(Int64, System.String, System.String) on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 11:53:34.940 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 11:53:34.945 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Email], [a].[Name], [a].[Password], [a].[Role]
FROM [Admins] AS [a]
WHERE [a].[Id] = @__id_0
2024-07-17 11:53:34.968 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-17 11:53:34.972 -03:00 [WRN] User validation failed: DuplicateUserName.
2024-07-17 11:53:34.977 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Cpf], [u].[Email], [u].[Name], [u].[Password]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2024-07-17 11:53:34.979 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication) in 44.8264ms
2024-07-17 11:53:34.980 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication)'
2024-07-17 11:53:34.983 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Something went wrong when calling API. Error: Object reference not set to an instance of an object.
   at JuntoApplication.Infrastructure.Repository.UserBaseRepository.UpdateAsync(Int64 id, String role, String password) in D:\workspace\TesteJunto\src\JuntoApplication\Infrastructure\Repository\UserBaseRepository.cs:line 122
   at JuntoApplication.Controllers.BaseUsersController.UpdatePassword(Int64 id, String role, String password) in D:\workspace\TesteJunto\src\JuntoApplication\Controllers\BaseUsersController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-07-17 11:53:35.002 -03:00 [INF] Request finished HTTP/2 PUT https://localhost:7032/api/BaseUsers?id=6&role=Admin&password=Test123%40 - 0 - 500 - text/plain;+charset=utf-8 74.1518ms
2024-07-17 11:54:58.789 -03:00 [INF] Application is shutting down...
2024-07-17 11:57:41.097 -03:00 [INF] User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-17 11:57:41.525 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 11:57:41.860 -03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-07-17 11:57:41.910 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-17 11:57:41.998 -03:00 [INF] Now listening on: https://localhost:7032
2024-07-17 11:57:41.999 -03:00 [INF] Now listening on: http://localhost:5032
2024-07-17 11:57:42.001 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 11:57:42.001 -03:00 [INF] Hosting environment: Development
2024-07-17 11:57:42.002 -03:00 [INF] Content root path: D:\workspace\TesteJunto\src\JuntoApplication\
2024-07-17 11:57:42.588 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/swagger/index.html - -
2024-07-17 11:57:42.748 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/swagger/index.html - - - 200 - text/html;charset=utf-8 162.1049ms
2024-07-17 11:57:42.755 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/_framework/aspnetcore-browser-refresh.js - -
2024-07-17 11:57:42.757 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/_framework/aspnetcore-browser-refresh.js - - - 200 12002 application/javascript;+charset=utf-8 1.9583ms
2024-07-17 11:57:42.780 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/_vs/browserLink - -
2024-07-17 11:57:42.788 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 8.0421ms
2024-07-17 11:57:42.839 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/swagger/v1/swagger.json - -
2024-07-17 11:57:42.894 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 54.8702ms
2024-07-17 11:58:07.044 -03:00 [INF] Request starting HTTP/2 PUT https://localhost:7032/api/BaseUsers?id=6&role=Admin&password=Test123%40 - 0
2024-07-17 11:58:07.101 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication)'
2024-07-17 11:58:07.120 -03:00 [INF] Route matched with {action = "UpdatePassword", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePassword(Int64, System.String, System.String) on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 11:58:07.159 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 11:58:07.166 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Email], [a].[Name], [a].[Password], [a].[Role]
FROM [Admins] AS [a]
WHERE [a].[Id] = @__id_0
2024-07-17 11:58:07.199 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-17 11:58:07.202 -03:00 [WRN] User validation failed: DuplicateUserName.
2024-07-17 11:58:07.213 -03:00 [INF] Executing OkObjectResult, writing value of type 'JuntoApplication.Dto.UserDto'.
2024-07-17 11:58:07.227 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication) in 103.6303ms
2024-07-17 11:58:07.228 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication)'
2024-07-17 11:58:07.230 -03:00 [INF] Request finished HTTP/2 PUT https://localhost:7032/api/BaseUsers?id=6&role=Admin&password=Test123%40 - 0 - 200 - application/json;+charset=utf-8 186.4006ms
2024-07-17 11:58:32.686 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7032/api/Login application/json 57
2024-07-17 11:58:32.687 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.LoginController.Login (JuntoApplication)'
2024-07-17 11:58:32.691 -03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(JuntoApplication.Model.Login) on controller JuntoApplication.Controllers.LoginController (JuntoApplication).
2024-07-17 11:58:32.714 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 11:58:32.718 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-17 11:58:32.723 -03:00 [WRN] Invalid password for user.
2024-07-17 11:58:32.724 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-07-17 11:58:32.726 -03:00 [INF] Executed action JuntoApplication.Controllers.LoginController.Login (JuntoApplication) in 33.9716ms
2024-07-17 11:58:32.727 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.LoginController.Login (JuntoApplication)'
2024-07-17 11:58:32.728 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7032/api/Login application/json 57 - 401 - application/problem+json;+charset=utf-8 41.9033ms
2024-07-17 11:59:07.638 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7032/api/Login application/json 56
2024-07-17 11:59:07.640 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.LoginController.Login (JuntoApplication)'
2024-07-17 11:59:07.640 -03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(JuntoApplication.Model.Login) on controller JuntoApplication.Controllers.LoginController (JuntoApplication).
2024-07-17 11:59:07.642 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 11:59:07.645 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-17 11:59:07.677 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-07-17 11:59:07.685 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-17 11:59:07.689 -03:00 [INF] Executed action JuntoApplication.Controllers.LoginController.Login (JuntoApplication) in 47.4493ms
2024-07-17 11:59:07.690 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.LoginController.Login (JuntoApplication)'
2024-07-17 11:59:07.691 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7032/api/Login application/json 56 - 200 - application/json;+charset=utf-8 52.5488ms
2024-07-17 12:00:08.787 -03:00 [INF] Application is shutting down...
2024-07-17 12:03:19.068 -03:00 [INF] User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-17 12:03:19.779 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:03:20.578 -03:00 [INF] Executed DbCommand (60ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-07-17 12:03:20.665 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-17 12:03:20.899 -03:00 [INF] Now listening on: https://localhost:7032
2024-07-17 12:03:20.900 -03:00 [INF] Now listening on: http://localhost:5032
2024-07-17 12:03:20.903 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 12:03:20.903 -03:00 [INF] Hosting environment: Development
2024-07-17 12:03:20.904 -03:00 [INF] Content root path: D:\workspace\TesteJunto\src\JuntoApplication\
2024-07-17 12:03:21.866 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/swagger/index.html - -
2024-07-17 12:03:22.171 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/swagger/index.html - - - 200 - text/html;charset=utf-8 307.3671ms
2024-07-17 12:03:22.185 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/_framework/aspnetcore-browser-refresh.js - -
2024-07-17 12:03:22.188 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/_framework/aspnetcore-browser-refresh.js - - - 200 12002 application/javascript;+charset=utf-8 3.4103ms
2024-07-17 12:03:22.205 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/_vs/browserLink - -
2024-07-17 12:03:22.218 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 13.2506ms
2024-07-17 12:03:22.263 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/swagger/v1/swagger.json - -
2024-07-17 12:03:22.367 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 103.4740ms
2024-07-17 12:03:29.113 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/api/BaseUsers - -
2024-07-17 12:03:29.324 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication)'
2024-07-17 12:03:29.339 -03:00 [INF] Route matched with {action = "FindAll", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FindAll() on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 12:03:29.378 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:03:29.385 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Email], [a].[Name], [a].[Password], [a].[Role]
FROM [Admins] AS [a]
2024-07-17 12:03:29.407 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Cpf], [u].[Email], [u].[Name], [u].[Password]
FROM [Users] AS [u]
2024-07-17 12:03:29.424 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[JuntoApplication.Dto.UserDto, JuntoApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-17 12:03:29.447 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication) in 102.4979ms
2024-07-17 12:03:29.450 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication)'
2024-07-17 12:03:29.456 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/api/BaseUsers - - - 200 - application/json;+charset=utf-8 342.6451ms
2024-07-17 12:03:49.165 -03:00 [INF] Request starting HTTP/2 PUT https://localhost:7032/api/BaseUsers?id=6&role=Admin&password=Test123%40 - 0
2024-07-17 12:03:49.167 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication)'
2024-07-17 12:03:49.178 -03:00 [INF] Route matched with {action = "UpdatePassword", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePassword(Int64, System.String, System.String) on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 12:03:58.437 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:03:58.446 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Email], [a].[Name], [a].[Password], [a].[Role]
FROM [Admins] AS [a]
WHERE [a].[Id] = @__id_0
2024-07-17 12:04:50.050 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-17 12:04:50.067 -03:00 [WRN] User validation failed: DuplicateUserName.
2024-07-17 12:07:42.205 -03:00 [INF] User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-17 12:07:42.642 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:07:42.976 -03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-07-17 12:07:43.027 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-17 12:07:43.113 -03:00 [INF] Now listening on: https://localhost:7032
2024-07-17 12:07:43.114 -03:00 [INF] Now listening on: http://localhost:5032
2024-07-17 12:07:43.116 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 12:07:43.117 -03:00 [INF] Hosting environment: Development
2024-07-17 12:07:43.117 -03:00 [INF] Content root path: D:\workspace\TesteJunto\src\JuntoApplication\
2024-07-17 12:07:43.640 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/swagger/index.html - -
2024-07-17 12:07:43.794 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/swagger/index.html - - - 200 - text/html;charset=utf-8 155.5978ms
2024-07-17 12:07:43.802 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/_framework/aspnetcore-browser-refresh.js - -
2024-07-17 12:07:43.804 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/_framework/aspnetcore-browser-refresh.js - - - 200 12002 application/javascript;+charset=utf-8 1.9968ms
2024-07-17 12:07:43.826 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/_vs/browserLink - -
2024-07-17 12:07:43.834 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 7.4705ms
2024-07-17 12:07:43.883 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/swagger/v1/swagger.json - -
2024-07-17 12:07:43.939 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 55.6000ms
2024-07-17 12:07:58.332 -03:00 [INF] Request starting HTTP/2 PUT https://localhost:7032/api/BaseUsers?id=6&role=Admin&password=Test123%40 - 0
2024-07-17 12:07:58.389 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication)'
2024-07-17 12:07:58.407 -03:00 [INF] Route matched with {action = "UpdatePassword", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePassword(Int64, System.String, System.String) on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 12:07:58.447 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:07:58.454 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Email], [a].[Name], [a].[Password], [a].[Role]
FROM [Admins] AS [a]
WHERE [a].[Id] = @__id_0
2024-07-17 12:07:58.467 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-17 12:07:58.493 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-17 12:07:58.561 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2024-07-17 12:07:58.589 -03:00 [INF] Executing OkObjectResult, writing value of type 'JuntoApplication.Dto.UserDto'.
2024-07-17 12:07:58.604 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication) in 192.445ms
2024-07-17 12:07:58.605 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication)'
2024-07-17 12:07:58.607 -03:00 [INF] Request finished HTTP/2 PUT https://localhost:7032/api/BaseUsers?id=6&role=Admin&password=Test123%40 - 0 - 200 - application/json;+charset=utf-8 274.9649ms
2024-07-17 12:08:18.789 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7032/api/Login application/json 57
2024-07-17 12:08:18.791 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.LoginController.Login (JuntoApplication)'
2024-07-17 12:08:18.795 -03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(JuntoApplication.Model.Login) on controller JuntoApplication.Controllers.LoginController (JuntoApplication).
2024-07-17 12:08:18.820 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:08:18.824 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-17 12:08:18.859 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-07-17 12:08:18.867 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-17 12:08:18.872 -03:00 [INF] Executed action JuntoApplication.Controllers.LoginController.Login (JuntoApplication) in 75.6812ms
2024-07-17 12:08:18.872 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.LoginController.Login (JuntoApplication)'
2024-07-17 12:08:18.873 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7032/api/Login application/json 57 - 200 - application/json;+charset=utf-8 84.2663ms
2024-07-17 12:08:32.442 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/api/BaseUsers - -
2024-07-17 12:08:32.445 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication)'
2024-07-17 12:08:32.447 -03:00 [INF] Route matched with {action = "FindAll", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FindAll() on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 12:08:32.450 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:08:32.455 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Email], [a].[Name], [a].[Password], [a].[Role]
FROM [Admins] AS [a]
2024-07-17 12:08:32.460 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Cpf], [u].[Email], [u].[Name], [u].[Password]
FROM [Users] AS [u]
2024-07-17 12:08:32.468 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[JuntoApplication.Dto.UserDto, JuntoApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-17 12:08:32.470 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication) in 21.1869ms
2024-07-17 12:08:32.471 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication)'
2024-07-17 12:08:32.471 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/api/BaseUsers - - - 200 - application/json;+charset=utf-8 29.0210ms
2024-07-17 12:09:45.119 -03:00 [INF] Application is shutting down...
2024-07-17 12:16:00.602 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:16:21.018 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:16:21.215 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-17 12:16:21.235 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-17 12:16:21.239 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-07-17 12:16:21.241 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-07-17 12:16:21.252 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-07-17 12:16:21.263 -03:00 [INF] Applying migration '20240717151600_RefactorEntity'.
2024-07-17 12:16:21.306 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'Password');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Users] DROP COLUMN [Password];
2024-07-17 12:16:21.317 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Admins]') AND [c].[name] = N'Password');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Admins] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Admins] DROP COLUMN [Password];
2024-07-17 12:16:21.319 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240717151600_RefactorEntity', N'6.0.32');
2024-07-17 12:17:05.829 -03:00 [INF] User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-17 12:17:06.258 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:17:06.592 -03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-07-17 12:17:06.641 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-17 12:17:06.728 -03:00 [INF] Now listening on: https://localhost:7032
2024-07-17 12:17:06.729 -03:00 [INF] Now listening on: http://localhost:5032
2024-07-17 12:17:06.731 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 12:17:06.732 -03:00 [INF] Hosting environment: Development
2024-07-17 12:17:06.732 -03:00 [INF] Content root path: D:\workspace\TesteJunto\src\JuntoApplication\
2024-07-17 12:17:07.033 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/swagger/index.html - -
2024-07-17 12:17:07.185 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/swagger/index.html - - - 200 - text/html;charset=utf-8 153.8980ms
2024-07-17 12:17:07.189 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/_vs/browserLink - -
2024-07-17 12:17:07.189 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/_framework/aspnetcore-browser-refresh.js - -
2024-07-17 12:17:07.191 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/_framework/aspnetcore-browser-refresh.js - - - 200 12002 application/javascript;+charset=utf-8 2.2915ms
2024-07-17 12:17:07.195 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 6.2909ms
2024-07-17 12:17:07.303 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/swagger/v1/swagger.json - -
2024-07-17 12:17:07.360 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 56.5750ms
2024-07-17 12:17:57.732 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/api/BaseUsers - -
2024-07-17 12:17:57.789 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication)'
2024-07-17 12:17:57.802 -03:00 [INF] Route matched with {action = "FindAll", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FindAll() on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 12:17:57.833 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:17:57.839 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Email], [a].[Name], [a].[Role]
FROM [Admins] AS [a]
2024-07-17 12:17:57.853 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Cpf], [u].[Email], [u].[Name]
FROM [Users] AS [u]
2024-07-17 12:17:57.864 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[JuntoApplication.Dto.UserDto, JuntoApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-17 12:17:57.879 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication) in 73.0926ms
2024-07-17 12:17:57.880 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication)'
2024-07-17 12:17:57.882 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/api/BaseUsers - - - 200 - application/json;+charset=utf-8 149.7770ms
2024-07-17 12:18:07.645 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/api/BaseUsers/1?role=Admin - -
2024-07-17 12:18:07.647 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.FindById (JuntoApplication)'
2024-07-17 12:18:07.655 -03:00 [INF] Route matched with {action = "FindById", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FindById(Int64, System.String) on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 12:18:07.672 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:18:07.678 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Email], [a].[Name], [a].[Role]
FROM [Admins] AS [a]
WHERE [a].[Id] = @__id_0
2024-07-17 12:18:07.685 -03:00 [INF] Executing OkObjectResult, writing value of type 'JuntoApplication.Dto.UserDto'.
2024-07-17 12:18:07.686 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.FindById (JuntoApplication) in 29.8746ms
2024-07-17 12:18:07.687 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.FindById (JuntoApplication)'
2024-07-17 12:18:07.688 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/api/BaseUsers/1?role=Admin - - - 200 - application/json;+charset=utf-8 43.0730ms
2024-07-17 12:18:12.175 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/api/BaseUsers/1 - -
2024-07-17 12:18:12.177 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.FindById (JuntoApplication)'
2024-07-17 12:18:12.178 -03:00 [INF] Route matched with {action = "FindById", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FindById(Int64, System.String) on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 12:18:12.184 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-17 12:18:12.187 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.FindById (JuntoApplication) in 8.7558ms
2024-07-17 12:18:12.188 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.FindById (JuntoApplication)'
2024-07-17 12:18:12.189 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/api/BaseUsers/1 - - - 400 - application/problem+json;+charset=utf-8 14.4809ms
2024-07-17 12:18:18.253 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/api/BaseUsers/1?role=user - -
2024-07-17 12:18:18.253 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.FindById (JuntoApplication)'
2024-07-17 12:18:18.254 -03:00 [INF] Route matched with {action = "FindById", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FindById(Int64, System.String) on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 12:18:18.256 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:18:18.261 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Cpf], [u].[Email], [u].[Name]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2024-07-17 12:18:18.264 -03:00 [INF] Executing OkObjectResult, writing value of type 'JuntoApplication.Dto.UserDto'.
2024-07-17 12:18:18.265 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.FindById (JuntoApplication) in 10.0637ms
2024-07-17 12:18:18.266 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.FindById (JuntoApplication)'
2024-07-17 12:18:18.267 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/api/BaseUsers/1?role=user - - - 200 - application/json;+charset=utf-8 14.0021ms
2024-07-17 12:18:44.843 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7032/api/BaseUsers application/json 87
2024-07-17 12:18:44.844 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.CreateUser (JuntoApplication)'
2024-07-17 12:18:44.846 -03:00 [INF] Route matched with {action = "CreateUser", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(JuntoApplication.Dto.UserDto) on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 12:18:44.864 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-17 12:18:44.865 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.CreateUser (JuntoApplication) in 17.3226ms
2024-07-17 12:18:44.866 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.CreateUser (JuntoApplication)'
2024-07-17 12:18:44.866 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7032/api/BaseUsers application/json 87 - 400 - application/problem+json;+charset=utf-8 23.1988ms
2024-07-17 12:20:11.009 -03:00 [INF] User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-17 12:20:11.454 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:20:11.792 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-07-17 12:20:11.842 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-17 12:20:11.931 -03:00 [INF] Now listening on: https://localhost:7032
2024-07-17 12:20:11.932 -03:00 [INF] Now listening on: http://localhost:5032
2024-07-17 12:20:11.934 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 12:20:11.935 -03:00 [INF] Hosting environment: Development
2024-07-17 12:20:11.935 -03:00 [INF] Content root path: D:\workspace\TesteJunto\src\JuntoApplication\
2024-07-17 12:20:12.259 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/swagger/index.html - -
2024-07-17 12:20:12.416 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/swagger/index.html - - - 200 - text/html;charset=utf-8 159.0421ms
2024-07-17 12:20:12.419 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/_vs/browserLink - -
2024-07-17 12:20:12.419 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/_framework/aspnetcore-browser-refresh.js - -
2024-07-17 12:20:12.422 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/_framework/aspnetcore-browser-refresh.js - - - 200 12002 application/javascript;+charset=utf-8 2.3692ms
2024-07-17 12:20:12.426 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 6.4954ms
2024-07-17 12:20:12.558 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/swagger/v1/swagger.json - -
2024-07-17 12:20:12.619 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 60.6770ms
2024-07-17 12:20:22.771 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/api/BaseUsers - -
2024-07-17 12:20:22.790 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-07-17 12:20:22.793 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-07-17 12:20:22.794 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/api/BaseUsers - - - 401 0 - 22.7689ms
2024-07-17 12:20:27.282 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/api/BaseUsers - -
2024-07-17 12:20:27.324 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication)'
2024-07-17 12:20:27.337 -03:00 [INF] Route matched with {action = "FindAll", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FindAll() on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 12:20:27.368 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:20:27.374 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Email], [a].[Name], [a].[Role]
FROM [Admins] AS [a]
2024-07-17 12:20:27.391 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Cpf], [u].[Email], [u].[Name]
FROM [Users] AS [u]
2024-07-17 12:20:27.402 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[JuntoApplication.Dto.UserDto, JuntoApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-17 12:20:27.419 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication) in 77.8241ms
2024-07-17 12:20:27.420 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication)'
2024-07-17 12:20:27.422 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/api/BaseUsers - - - 200 - application/json;+charset=utf-8 139.8465ms
2024-07-17 12:20:43.671 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7032/api/BaseUsers application/json 87
2024-07-17 12:20:43.673 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.CreateUser (JuntoApplication)'
2024-07-17 12:20:43.684 -03:00 [INF] Route matched with {action = "CreateUser", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(JuntoApplication.Dto.UserDto) on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 12:20:43.737 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:20:43.743 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-17 12:20:43.809 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-07-17 12:20:43.831 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-07-17 12:20:43.845 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2024-07-17 12:20:43.851 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-07-17 12:20:43.861 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-17 12:20:43.873 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2024-07-17 12:20:43.878 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2024-07-17 12:20:43.904 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-17 12:20:43.911 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserClaims] ([ClaimType], [ClaimValue], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [AspNetUserClaims]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-07-17 12:20:43.926 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserClaims] ([ClaimType], [ClaimValue], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [AspNetUserClaims]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-07-17 12:20:43.929 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2024-07-17 12:20:43.945 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (Size = 250), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Admins] ([Email], [Name], [Role])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Admins]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-07-17 12:20:43.954 -03:00 [INF] Executing OkObjectResult, writing value of type 'JuntoApplication.Dto.UserDto'.
2024-07-17 12:20:43.956 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.CreateUser (JuntoApplication) in 269.7806ms
2024-07-17 12:20:43.957 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.CreateUser (JuntoApplication)'
2024-07-17 12:20:43.958 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7032/api/BaseUsers application/json 87 - 200 - application/json;+charset=utf-8 286.4411ms
2024-07-17 12:21:33.027 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7032/api/Login application/json 56
2024-07-17 12:21:33.028 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.LoginController.Login (JuntoApplication)'
2024-07-17 12:21:33.030 -03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(JuntoApplication.Model.Login) on controller JuntoApplication.Controllers.LoginController (JuntoApplication).
2024-07-17 12:21:33.035 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:21:33.038 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-17 12:21:33.067 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-07-17 12:21:33.075 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-17 12:21:33.079 -03:00 [INF] Executed action JuntoApplication.Controllers.LoginController.Login (JuntoApplication) in 47.8345ms
2024-07-17 12:21:33.080 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.LoginController.Login (JuntoApplication)'
2024-07-17 12:21:33.081 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7032/api/Login application/json 56 - 200 - application/json;+charset=utf-8 53.9379ms
2024-07-17 12:21:48.456 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/api/BaseUsers - -
2024-07-17 12:21:48.457 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication)'
2024-07-17 12:21:48.458 -03:00 [INF] Route matched with {action = "FindAll", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FindAll() on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 12:21:48.463 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:21:48.466 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Email], [a].[Name], [a].[Role]
FROM [Admins] AS [a]
2024-07-17 12:21:48.468 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Cpf], [u].[Email], [u].[Name]
FROM [Users] AS [u]
2024-07-17 12:21:48.470 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[JuntoApplication.Dto.UserDto, JuntoApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-17 12:21:48.472 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication) in 13.3238ms
2024-07-17 12:21:48.473 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication)'
2024-07-17 12:21:48.474 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/api/BaseUsers - - - 200 - application/json;+charset=utf-8 17.5184ms
2024-07-17 12:22:03.168 -03:00 [INF] Request starting HTTP/2 PUT https://localhost:7032/api/BaseUsers?id=7&role=Admin&password=Teste%40 - 0
2024-07-17 12:22:03.169 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication)'
2024-07-17 12:22:03.172 -03:00 [INF] Route matched with {action = "UpdatePassword", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePassword(Int64, System.String, System.String) on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 12:22:03.179 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:22:03.184 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Email], [a].[Name], [a].[Role]
FROM [Admins] AS [a]
WHERE [a].[Id] = @__id_0
2024-07-17 12:22:03.187 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-17 12:22:03.194 -03:00 [WRN] User password validation failed: PasswordRequiresDigit.
2024-07-17 12:22:03.195 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication) in 21.1615ms
2024-07-17 12:22:03.196 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication)'
2024-07-17 12:22:03.199 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Something went wrong when calling API. Error: Something went wrong when change password
   at JuntoApplication.Infrastructure.Repository.UserBaseRepository.UpdateAsync(Int64 id, String role, String password) in D:\workspace\TesteJunto\src\JuntoApplication\Infrastructure\Repository\UserBaseRepository.cs:line 126
   at JuntoApplication.Controllers.BaseUsersController.UpdatePassword(Int64 id, String role, String password) in D:\workspace\TesteJunto\src\JuntoApplication\Controllers\BaseUsersController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-07-17 12:22:03.222 -03:00 [INF] Request finished HTTP/2 PUT https://localhost:7032/api/BaseUsers?id=7&role=Admin&password=Teste%40 - 0 - 500 - text/plain;+charset=utf-8 53.5479ms
2024-07-17 12:23:10.828 -03:00 [INF] Application is shutting down...
2024-07-17 12:23:32.871 -03:00 [INF] User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-17 12:23:33.541 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:23:34.177 -03:00 [INF] Executed DbCommand (55ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-07-17 12:23:34.266 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-17 12:23:34.461 -03:00 [INF] Now listening on: https://localhost:7032
2024-07-17 12:23:34.462 -03:00 [INF] Now listening on: http://localhost:5032
2024-07-17 12:23:34.465 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 12:23:34.466 -03:00 [INF] Hosting environment: Development
2024-07-17 12:23:34.466 -03:00 [INF] Content root path: D:\workspace\TesteJunto\src\JuntoApplication\
2024-07-17 12:23:35.156 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/swagger/index.html - -
2024-07-17 12:23:35.427 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/_framework/aspnetcore-browser-refresh.js - -
2024-07-17 12:23:35.429 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/swagger/index.html - - - 200 - text/html;charset=utf-8 275.2922ms
2024-07-17 12:23:35.430 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/_framework/aspnetcore-browser-refresh.js - - - 200 12002 application/javascript;+charset=utf-8 3.3024ms
2024-07-17 12:23:35.455 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/_vs/browserLink - -
2024-07-17 12:23:35.470 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 14.4559ms
2024-07-17 12:23:35.509 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/swagger/v1/swagger.json - -
2024-07-17 12:23:35.604 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 95.1148ms
2024-07-17 12:23:42.292 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/api/BaseUsers - -
2024-07-17 12:23:42.413 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication)'
2024-07-17 12:23:42.428 -03:00 [INF] Route matched with {action = "FindAll", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FindAll() on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 12:23:42.469 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:23:42.476 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Email], [a].[Name], [a].[Role]
FROM [Admins] AS [a]
2024-07-17 12:23:42.497 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Cpf], [u].[Email], [u].[Name]
FROM [Users] AS [u]
2024-07-17 12:23:42.513 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[JuntoApplication.Dto.UserDto, JuntoApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-17 12:23:42.536 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication) in 102.2349ms
2024-07-17 12:23:42.538 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication)'
2024-07-17 12:23:42.544 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/api/BaseUsers - - - 200 - application/json;+charset=utf-8 251.7161ms
2024-07-17 12:23:59.921 -03:00 [INF] Request starting HTTP/2 PUT https://localhost:7032/api/BaseUsers?id=7&role=Admin&password=Test123%40 - 0
2024-07-17 12:23:59.923 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication)'
2024-07-17 12:23:59.933 -03:00 [INF] Route matched with {action = "UpdatePassword", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePassword(Int64, System.String, System.String) on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 12:24:01.890 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:24:01.898 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Email], [a].[Name], [a].[Role]
FROM [Admins] AS [a]
WHERE [a].[Id] = @__id_0
2024-07-17 12:24:09.144 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-17 12:24:21.392 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-17 12:24:21.512 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15;
SELECT @@ROWCOUNT;
2024-07-17 12:24:38.855 -03:00 [INF] Executing OkObjectResult, writing value of type 'JuntoApplication.Dto.UserDto'.
2024-07-17 12:24:42.286 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication) in 42351.6053ms
2024-07-17 12:24:42.287 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication)'
2024-07-17 12:24:42.288 -03:00 [INF] Request finished HTTP/2 PUT https://localhost:7032/api/BaseUsers?id=7&role=Admin&password=Test123%40 - 0 - 200 - application/json;+charset=utf-8 42366.7382ms
2024-07-17 12:25:11.903 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7032/api/Login application/json 57
2024-07-17 12:25:11.909 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.LoginController.Login (JuntoApplication)'
2024-07-17 12:25:11.911 -03:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(JuntoApplication.Model.Login) on controller JuntoApplication.Controllers.LoginController (JuntoApplication).
2024-07-17 12:25:11.938 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:25:11.942 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-17 12:25:12.001 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-07-17 12:25:12.016 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-07-17 12:25:12.021 -03:00 [INF] Executed action JuntoApplication.Controllers.LoginController.Login (JuntoApplication) in 108.8072ms
2024-07-17 12:25:12.022 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.LoginController.Login (JuntoApplication)'
2024-07-17 12:25:12.023 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7032/api/Login application/json 57 - 200 - application/json;+charset=utf-8 119.4223ms
2024-07-17 12:25:27.475 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/api/BaseUsers - -
2024-07-17 12:25:27.476 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication)'
2024-07-17 12:25:27.477 -03:00 [INF] Route matched with {action = "FindAll", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FindAll() on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 12:25:27.483 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:25:27.486 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Email], [a].[Name], [a].[Role]
FROM [Admins] AS [a]
2024-07-17 12:25:27.489 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Cpf], [u].[Email], [u].[Name]
FROM [Users] AS [u]
2024-07-17 12:25:27.490 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[JuntoApplication.Dto.UserDto, JuntoApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-17 12:25:27.491 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication) in 12.4065ms
2024-07-17 12:25:27.492 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication)'
2024-07-17 12:25:27.492 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/api/BaseUsers - - - 200 - application/json;+charset=utf-8 17.2199ms
2024-07-17 12:25:30.282 -03:00 [INF] Application is shutting down...
2024-07-17 12:27:26.016 -03:00 [INF] User profile is available. Using 'C:\Users\Machado\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-17 12:27:26.442 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:27:26.786 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-07-17 12:27:26.835 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-17 12:27:26.921 -03:00 [INF] Now listening on: https://localhost:7032
2024-07-17 12:27:26.921 -03:00 [INF] Now listening on: http://localhost:5032
2024-07-17 12:27:26.923 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-17 12:27:26.924 -03:00 [INF] Hosting environment: Development
2024-07-17 12:27:26.924 -03:00 [INF] Content root path: D:\workspace\TesteJunto\src\JuntoApplication\
2024-07-17 12:27:27.478 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/swagger/index.html - -
2024-07-17 12:27:27.635 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/swagger/index.html - - - 200 - text/html;charset=utf-8 159.3818ms
2024-07-17 12:27:27.643 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/_framework/aspnetcore-browser-refresh.js - -
2024-07-17 12:27:27.645 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/_framework/aspnetcore-browser-refresh.js - - - 200 12002 application/javascript;+charset=utf-8 2.1419ms
2024-07-17 12:27:27.671 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/_vs/browserLink - -
2024-07-17 12:27:27.678 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 7.6482ms
2024-07-17 12:27:27.719 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/swagger/v1/swagger.json - -
2024-07-17 12:27:27.778 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 59.0108ms
2024-07-17 12:27:34.036 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7032/api/BaseUsers - -
2024-07-17 12:27:34.096 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication)'
2024-07-17 12:27:34.108 -03:00 [INF] Route matched with {action = "FindAll", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FindAll() on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 12:27:34.140 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:27:34.146 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Email], [a].[Name], [a].[Role]
FROM [Admins] AS [a]
2024-07-17 12:27:34.159 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[Cpf], [u].[Email], [u].[Name]
FROM [Users] AS [u]
2024-07-17 12:27:34.170 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[JuntoApplication.Dto.UserDto, JuntoApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-17 12:27:34.186 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication) in 74.0681ms
2024-07-17 12:27:34.188 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.FindAll (JuntoApplication)'
2024-07-17 12:27:34.190 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7032/api/BaseUsers - - - 200 - application/json;+charset=utf-8 154.2085ms
2024-07-17 12:27:47.918 -03:00 [INF] Request starting HTTP/2 PUT https://localhost:7032/api/BaseUsers?id=6&role=c%40gmail.com&password=teste%40 - 0
2024-07-17 12:27:47.920 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication)'
2024-07-17 12:27:47.928 -03:00 [INF] Route matched with {action = "UpdatePassword", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePassword(Int64, System.String, System.String) on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 12:27:47.947 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:27:47.954 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Cpf], [u].[Email], [u].[Name]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2024-07-17 12:27:47.956 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication) in 25.742ms
2024-07-17 12:27:47.957 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication)'
2024-07-17 12:27:47.960 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Something went wrong when calling API. Error: Value cannot be null. (Parameter 'entity')
   at JuntoApplication.Infrastructure.Repository.UserBaseRepository.UpdateAsync(Int64 id, String role, String password) in D:\workspace\TesteJunto\src\JuntoApplication\Infrastructure\Repository\UserBaseRepository.cs:line 128
   at JuntoApplication.Controllers.BaseUsersController.UpdatePassword(Int64 id, String role, String password) in D:\workspace\TesteJunto\src\JuntoApplication\Controllers\BaseUsersController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-07-17 12:27:47.984 -03:00 [INF] Request finished HTTP/2 PUT https://localhost:7032/api/BaseUsers?id=6&role=c%40gmail.com&password=teste%40 - 0 - 500 - text/plain;+charset=utf-8 65.8787ms
2024-07-17 12:27:59.199 -03:00 [INF] Request starting HTTP/2 PUT https://localhost:7032/api/BaseUsers?id=6&role=Admin&password=teste%40 - 0
2024-07-17 12:27:59.201 -03:00 [INF] Executing endpoint 'JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication)'
2024-07-17 12:27:59.202 -03:00 [INF] Route matched with {action = "UpdatePassword", controller = "BaseUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePassword(Int64, System.String, System.String) on controller JuntoApplication.Controllers.BaseUsersController (JuntoApplication).
2024-07-17 12:27:59.208 -03:00 [INF] Entity Framework Core 6.0.32 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.32' with options: None
2024-07-17 12:27:59.214 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Email], [a].[Name], [a].[Role]
FROM [Admins] AS [a]
WHERE [a].[Id] = @__id_0
2024-07-17 12:27:59.224 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-07-17 12:27:59.235 -03:00 [WRN] User password validation failed: PasswordRequiresDigit;PasswordRequiresUpper.
2024-07-17 12:27:59.237 -03:00 [INF] Executed action JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication) in 33.1513ms
2024-07-17 12:27:59.238 -03:00 [INF] Executed endpoint 'JuntoApplication.Controllers.BaseUsersController.UpdatePassword (JuntoApplication)'
2024-07-17 12:27:59.238 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Something went wrong when calling API. Error: Failed to reset password: Passwords must have at least one digit ('0'-'9')., Passwords must have at least one uppercase ('A'-'Z').
   at JuntoApplication.Infrastructure.Repository.UserBaseRepository.UpdateAsync(Int64 id, String role, String password) in D:\workspace\TesteJunto\src\JuntoApplication\Infrastructure\Repository\UserBaseRepository.cs:line 128
   at JuntoApplication.Controllers.BaseUsersController.UpdatePassword(Int64 id, String role, String password) in D:\workspace\TesteJunto\src\JuntoApplication\Controllers\BaseUsersController.cs:line 55
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-07-17 12:27:59.250 -03:00 [INF] Request finished HTTP/2 PUT https://localhost:7032/api/BaseUsers?id=6&role=Admin&password=teste%40 - 0 - 500 - text/plain;+charset=utf-8 50.9531ms
2024-07-17 12:30:52.637 -03:00 [INF] Application is shutting down...
